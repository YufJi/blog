(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{402:function(t,s,a){"use strict";a.r(s);var e=a(49),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"构建你自己的react"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建你自己的react"}},[t._v("#")]),t._v(" 构建你自己的React")]),t._v(" "),a("blockquote",[a("p",[t._v("本文翻译自 https://pomb.us/build-your-own-react/")])]),t._v(" "),a("p",[t._v("接下来我们将一步步从零开始实现一个React，实现上将遵循React的真实架构，但是不会完全包含所有的优化，相应地也会去除一些没必要的特性。")]),t._v(" "),a("h3",{attrs:{id:"步骤一-实现createelement方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-实现createelement方法"}},[t._v("#")]),t._v(" 步骤一：实现createElement方法")]),t._v(" "),a("p",[t._v("我们应该都知道jsx这种语法糖，都会被转换成标准的js，例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// input")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" element "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cls"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// output")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" element "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    className"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cls'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"步骤二-实现render方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-实现render方法"}},[t._v("#")]),t._v(" 步骤二：实现render方法")]),t._v(" "),a("h3",{attrs:{id:"步骤三-concurrent模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-concurrent模式"}},[t._v("#")]),t._v(" 步骤三：Concurrent模式")]),t._v(" "),a("h3",{attrs:{id:"步骤四-fibers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤四-fibers"}},[t._v("#")]),t._v(" 步骤四：Fibers")]),t._v(" "),a("h3",{attrs:{id:"步骤五-render和commit阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤五-render和commit阶段"}},[t._v("#")]),t._v(" 步骤五：render和commit阶段")]),t._v(" "),a("h3",{attrs:{id:"步骤六-reconciliation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤六-reconciliation"}},[t._v("#")]),t._v(" 步骤六：Reconciliation")]),t._v(" "),a("h3",{attrs:{id:"步骤七-function-components实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤七-function-components实现"}},[t._v("#")]),t._v(" 步骤七：Function Components实现")]),t._v(" "),a("h3",{attrs:{id:"步骤八-hooks实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤八-hooks实现"}},[t._v("#")]),t._v(" 步骤八：Hooks实现")])])}),[],!1,null,null,null);s.default=r.exports}}]);